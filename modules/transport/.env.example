# ===========================================
# Transport API - Configuration
# Version 2.0
# ===========================================
# Copiez ce fichier vers .env et adaptez les valeurs

# ===========================================
# Database (PostgreSQL)
# ===========================================
# URL de connexion complète (async avec asyncpg)
DATABASE_URL=postgresql+asyncpg://postgres:your_secure_password@localhost:54322/postgres

# Ou configuration séparée (utilisé si DATABASE_URL non défini)
DATABASE_HOST=localhost
DATABASE_PORT=54322
DATABASE_NAME=postgres
DATABASE_USER=postgres
DATABASE_PASSWORD=your_secure_password

# Pool de connexions
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10
DATABASE_POOL_TIMEOUT=30
DATABASE_ECHO=false

# ===========================================
# API Server
# ===========================================
API_HOST=0.0.0.0
API_PORT=8000
API_PREFIX=/api/v1
DEBUG=false

# ===========================================
# Security
# ===========================================
# IMPORTANT: Générez une clé sécurisée en production!
# Exemple: openssl rand -hex 32
SECRET_KEY=your-very-secure-secret-key-change-me-in-production

# JWT
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=60

# ===========================================
# Supabase (optionnel, pour intégration auth)
# ===========================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ===========================================
# CORS
# ===========================================
# Liste séparée par des virgules
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# ===========================================
# MQTT (Real-time tracking)
# ===========================================
MQTT_ENABLED=true
MQTT_BROKER=localhost
MQTT_PORT=1883
MQTT_USERNAME=
MQTT_PASSWORD=
MQTT_TOPIC_PREFIX=transport/

# ===========================================
# Optimization
# ===========================================
OPTIMIZATION_TIMEOUT_SECONDS=30
MAX_ROUTE_DURATION_MINUTES=180
MAX_VEHICLE_CAPACITY=50
MAX_ROUTE_DISTANCE_KM=100
DEFAULT_SERVICE_TIME_MINUTES=2
DEFAULT_SPEED_KMH=30.0

# ===========================================
# Rate Limiting
# ===========================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW_SECONDS=60

# ===========================================
# Logging
# ===========================================
LOG_LEVEL=INFO
